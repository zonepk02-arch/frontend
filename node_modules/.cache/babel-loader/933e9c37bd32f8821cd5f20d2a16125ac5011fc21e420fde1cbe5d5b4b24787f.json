{"ast":null,"code":"const API_BASE=process.env.REACT_APP_API_URL||\"http://localhost:8000\";export async function postLocation(payload){const res=await fetch(\"http://localhost:8000/visitors/capture_location\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text();throw new Error(\"Server error: \".concat(res.status,\" - \").concat(errorText));}return res.json();}/**\r\n * Log simple page visits\r\n */export async function logPageVisit(payload){try{const url=\"\".concat(API_BASE,\"/visitors/page_visit\");// ‚úÖ not /page_visit\nconsole.log(\"‚û°Ô∏è Logging page visit:\",url,payload);const res=await fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text();console.error(\"‚ùå Backend error:\",res.status,errorText);throw new Error(\"HTTP error! status: \".concat(res.status));}const data=await res.json();console.log(\"‚úÖ Page visit logged:\",data);return data;}catch(err){console.error(\"üö® API call failed:\",err.message);throw err;}}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","postLocation","payload","res","fetch","method","headers","body","JSON","stringify","ok","errorText","text","Error","concat","status","json","logPageVisit","url","console","log","error","data","err","message"],"sources":["C:/Users/Muhammad Ali/Desktop/marcos/myapp/frontend/src/api.js"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\r\n\r\nexport async function postLocation(payload) {\r\n  const res = await fetch(\"http://localhost:8000/visitors/capture_location\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const errorText = await res.text();\r\n    throw new Error(`Server error: ${res.status} - ${errorText}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\n\r\n/**\r\n * Log simple page visits\r\n */\r\nexport async function logPageVisit(payload) {\r\n    try {\r\n        const url = `${API_BASE}/visitors/page_visit`;   // ‚úÖ not /page_visit\r\n        console.log(\"‚û°Ô∏è Logging page visit:\", url, payload);\r\n\r\n        const res = await fetch(url, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload),\r\n        });\r\n\r\n        if (!res.ok) {\r\n            const errorText = await res.text();\r\n            console.error(\"‚ùå Backend error:\", res.status, errorText);\r\n            throw new Error(`HTTP error! status: ${res.status}`);\r\n        }\r\n\r\n        const data = await res.json();\r\n        console.log(\"‚úÖ Page visit logged:\", data);\r\n        return data;\r\n    } catch (err) {\r\n        console.error(\"üö® API call failed:\", err.message);\r\n        throw err;\r\n    }\r\n}\r\n"],"mappings":"AAAA,KAAM,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAEzE,MAAO,eAAe,CAAAC,YAAYA,CAACC,OAAO,CAAE,CAC1C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,iDAAiD,CAAE,CACzEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,OAAO,CAC9B,CAAC,CAAC,CAEF,GAAI,CAACC,GAAG,CAACO,EAAE,CAAE,CACX,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,GAAG,CAACS,IAAI,CAAC,CAAC,CAClC,KAAM,IAAI,CAAAC,KAAK,kBAAAC,MAAA,CAAkBX,GAAG,CAACY,MAAM,QAAAD,MAAA,CAAMH,SAAS,CAAE,CAAC,CAC/D,CAEA,MAAO,CAAAR,GAAG,CAACa,IAAI,CAAC,CAAC,CACnB,CAGA;AACA;AACA,GACA,MAAO,eAAe,CAAAC,YAAYA,CAACf,OAAO,CAAE,CACxC,GAAI,CACA,KAAM,CAAAgB,GAAG,IAAAJ,MAAA,CAAMjB,QAAQ,wBAAsB,CAAI;AACjDsB,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEF,GAAG,CAAEhB,OAAO,CAAC,CAEnD,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACc,GAAG,CAAE,CACzBb,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,OAAO,CAChC,CAAC,CAAC,CAEF,GAAI,CAACC,GAAG,CAACO,EAAE,CAAE,CACT,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,GAAG,CAACS,IAAI,CAAC,CAAC,CAClCO,OAAO,CAACE,KAAK,CAAC,kBAAkB,CAAElB,GAAG,CAACY,MAAM,CAAEJ,SAAS,CAAC,CACxD,KAAM,IAAI,CAAAE,KAAK,wBAAAC,MAAA,CAAwBX,GAAG,CAACY,MAAM,CAAE,CAAC,CACxD,CAEA,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAnB,GAAG,CAACa,IAAI,CAAC,CAAC,CAC7BG,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEE,IAAI,CAAC,CACzC,MAAO,CAAAA,IAAI,CACf,CAAE,MAAOC,GAAG,CAAE,CACVJ,OAAO,CAACE,KAAK,CAAC,qBAAqB,CAAEE,GAAG,CAACC,OAAO,CAAC,CACjD,KAAM,CAAAD,GAAG,CACb,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}